# Functions runtime env (use Firebase/Secret Manager in prod)
GCS_BUCKET_MAIL=REPLACE_ME
GMAIL_PUBSUB_TOPIC=projects/REPLACE_ME/topics/gmail-watch
PINECONE_API_KEY=REPLACE_ME
OPENAI_API_KEY=REPLACE_ME
ANTHROPIC_API_KEY=REPLACE_ME
GEMINI_API_KEY=REPLACE_ME
SENTRY_DSN=
KMS_KEY_RESOURCE=projects/REPLACE/me/locations/global/keyRings/REPLACE/cryptoKeys/REPLACE

PINECONE_INDEX_NAME=fyxer-prod

GMAIL_CLIENT_ID=REPLACE_ME
GMAIL_CLIENT_SECRET=REPLACE_ME
GMAIL_REDIRECT_URI=https://REGION-PROJECT.cloudfunctions.net/auth-gmail-callback
OAUTH_SUCCESS_REDIRECT=https://your-frontend.example.com/connect/success

# ----- Outlook / Microsoft Identity -----
MS_CLIENT_ID=REPLACE_ME
MS_CLIENT_SECRET=REPLACE_ME
# Use your tenant id for single-tenant orgs, or "common" for multi-tenant consumer+AAD
MS_TENANT=common
MS_REDIRECT_URI=https://REGION-PROJECT.cloudfunctions.net/authOutlookCallback
# Public HTTPS URL of your webhook (this Functions URL after deploy)
GRAPH_WEBHOOK_URL=https://REGION-PROJECT.cloudfunctions.net/graphWebhook

# ----- Token encryption (KMS) -----
# Full resource name: projects/{project}/locations/{location}/keyRings/{ring}/cryptoKeys/{key}
KMS_KEY_RESOURCE=projects/REPLACE/locations/global/keyRings/REPLACE/cryptoKeys/REPLACE

# Optional: allow base64 fallback only for local dev.
DEV_UNSAFE_TOKEN_CRYPTO=false

# ---------- SAP HANA (not S/4) ----------
HANA_HOST=REPLACE_ME
HANA_PORT=30015
HANA_USER=REPLACE_ME
HANA_PASSWORD=REPLACE_ME
HANA_SCHEMA=REPLACE_ME
HANA_INVOICES_VIEW=INVOICES               # e.g., a view with canonical columns
HANA_SSL=true
HANA_SSL_VALIDATE=false

# ---------- Incoherence flow ----------
INVOICE_NOTIFY_DEFAULT=maria.ttc@gmail.com
AMOUNT_TOLERANCE=0.01                      # acceptable float diff when comparing amounts

# ---------- Mock admin UI / DB toggle ----------
# Shared secret used by Next.js API routes (server-side) to call admin Functions endpoints
ADMIN_DASHBOARD_TOKEN=REPLACE_ME

# Toggle Firestore-backed mock vs. real HANA
DB_BACKEND=mock
MOCK_HANA_COLLECTION=mock_hana_invoices
